---
layout: page
title: Random Quote
---

<h2>Test HTML Post Page</h2>

<div>
    Click to pull a random quote from an Azure Function.
</div>

<button onclick="doSubmit()" type="button" class="btn btn-primary">Test It</button>

<div>
    <span id="quoteField"></span>
    <span id="authorField"></span>
</div>

<script type="text/javascript">

    // move to view model
    var vm = {
        quote: "not set",
        author: "anonymous"
    };
    
    function doSubmit() {
    
        axios({
            method: "get",
            url: 'https://services.raydreams.com/api/v1/quote'})
            .then(callback);
    }
    
    // 
    function callback(resp) {
    
        try {

            if ( !resp.data.isSuccess )
                return;

            vm = resp.data.result;
            var ctrl1 = document.getElementById('quoteField');
            ctrl1.innerHTML = vm.quote;
            //alert(resp.data); 
        } catch (error) {
            alert(error);
        }
    }

</script>