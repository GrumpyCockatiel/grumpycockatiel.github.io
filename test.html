---
layout: page
title: Test
---

<h2>Test HTML Post Page</h2>

<button onclick="doSubmit()" type="button" class="btn btn-primary">Test It</button>

<script type="text/javascript">

document.addEventListener('alpine:init', () => {
        Alpine.data('myObj', () => ({
            msg: 'Init',
            setIt(msg) { self.msg = msg; }
        }))
    })

function doSubmit() {

    axios({
        method: "get",
        url: 'https://services.raydreams.com/api/v1/ping?msg=test'})
        .then(callback);
}

function callback(resp) {

    var result = resp.data.result;
    Alpine.data('myObj').setIt(result);
    //alert(Alpine.data('myObj').msg);

}

</script>

<div x-data="myObj">
    <span x-text="msg"></span>
</div>
